{"version":3,"sources":["components/Search.jsx","components/Terminals.jsx","components/Entrance.jsx","components/DlMap.jsx","components/UseCdiService.js","components/Page.jsx","components/UseDebounced.js","components/App.js","index.js"],"names":["Wrap","styled","div","InpWrap","StyledInput","input","Placeholder","span","Options","Option","GEO_BASE_URL","process","Search","selectAddress","pointAddress","cdi","useState","variants","setVariants","value","setInpValue","geoCode","cdiAddr","searchAddr","split","join","url","fetch","then","r","json","res","found","response","GeoObjectCollection","featureMember","map","item","address","GeoObject","metaDataProperty","GeocoderMetaData","text","coords","Point","pos","length","selectOption","catch","e","console","log","opt","useEffect","type","onChange","target","onKeyDown","keyCode","key","onClick","Button","Name","Terminals","selectTerminal","pointCoords","balloonClickHandler","element","classList","contains","dataset","lat","lon","document","addEventListener","removeEventListener","terminals","index","id","terminal","latitude","longitude","terminalIsNotSelected","geometry","properties","hintContent","city","balloonContentBody","ReactDOMServer","renderToStaticMarkup","name","terminalAddress","data-address","data-lat","data-lon","className","options","preset","iconColor","Entrance","ymaps","entranceCoords","setEntranceCoords","showArea","setShowArea","entranceRef","get","draggable","fillColor","fillOpacity","strokeColor","strokeOpacity","strokeWidth","zIndex","modules","onDragend","newCoords","getCoordinates","distance","coordSystem","geo","getDistance","balloonContent","instanceRef","ref","MapWrap","DlMap","pointRef","showToast","setPointCoords","setPointAddress","mapRef","setMapRef","setYmaps","fetchAddressByCoords","defaultAddress","geolocation","mapStateAutoApply","result","geoObjects","position","setCenter","reverse","balloon","close","query","apikey","coordArr","onLoad","width","height","defaultState","center","zoom","suppressMapOpenBlock","pointStorageVal","cashlessOnly","cityID","code","country_code","fullName","inPrice","isAutoCity","isTerminal","label","nameString","noSendDoor","regionString","street","uString","UseCdiService","prevSuggestions","getQuery","filteredSuggestions","filter","el","settlement_kladr_id","city_kladr_id","filteredQuery","forEach","elem","str","region_with_type","area_with_type","city_with_type","settlement_with_type","Boolean","push","lengt","pointStr","indexOf","getCityStr","sugg","street_with_type","house","house_type","block","block_type","flat","flat_type","SelectBtn","Inp","Page","set","setValue","setPrevSuggestions","cdiOptions","setCdiOptions","debouncedFetchAddress","func","delay","useRef","args","clearTimeout","current","setTimeout","UseDebouncedFunc","data","restrict_value","count","locations_boost","kladr_id","locations","method","body","JSON","stringify","mode","headers","adresses","i","kladrList","suggestions","suitable","qc","onKeyUp","Toast","App","cdiAddress","setCdiAddress","toast","setToast","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8ffc8171.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\n\nconst Wrap = styled.div`\n  width: 80%;\n  height: 64px;\n  position: absolute;\n  top: 20px;\n  left: 50%;\n  transform: translate(-50%, 0);\n  z-index: 2;\n`;\n\nconst InpWrap = styled.div`\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n  border: 1px solid #D6D6D6;\n  box-shadow: 0 1px 5px rgba(0,0,0,0.1);\n  background: #ffffff;\n  border-radius: 4px;\n  overflow: hidden;\n`;\n\nconst StyledInput = styled.input`\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n  border: none;\n  box-shadow: none;\n  outline: none;\n  padding: 0 20px 0 180px;\n  font-size: 16px;\n  position: relative;\n  z-index: 2;\n  background: transparent;\n`;\n\nconst Placeholder = styled.span`\n  position: absolute;\n  font-weight: bold;\n  left: 10px;\n  top: 50%;\n  transform: translate(0, -50%);\n  z-index: 1;\n`;\n\nconst Options = styled.div`\n  width: 100%;\n  max-height: 200px;\n  overflow-y: auto;\n  position: absolute;\n  top: 100%;\n  background: #ffffff;\n  margin-top: 5px;\n  box-shadow: 0 1px 5px rgba(0,0,0,0.1);\n`;\n\nconst Option = styled.div`\n  padding: 5px 10px;\n  cursor: pointer;\n  font-size: 14px;\n  &:hover {\n    background: #e4e4e4;\n  }\n`;\n\nconst ENTER_KEY_CODE = 13;\nconst API_KEY_YMAPS = process.env.REACT_APP_MAP_API_KEY;\nconst GEO_BASE_URL = `https://geocode-maps.yandex.ru/1.x/?apikey=${API_KEY_YMAPS}&format=json&geocode=`;\n\nconst Search = ({ selectAddress, pointAddress, cdi }) => {\n  const [variants, setVariants] = useState([]);\n  const [value, setInpValue] = useState('');\n\n  const geoCode = (cdiAddr) => {\n    const valueAddr = cdiAddr || value;\n    const searchAddr = valueAddr.split(' ').join('+');\n    const url = `${GEO_BASE_URL}${searchAddr}`;\n\n    fetch(url)\n      .then(r => r.json())\n      .then(res => {\n        if (res) {\n          const geoObjects = res.response.GeoObjectCollection.featureMember;\n          const found = geoObjects.map(item => {\n            return {\n              address: item.GeoObject.metaDataProperty.GeocoderMetaData.text,\n              coords: item.GeoObject.Point.pos,\n            }\n          })\n\n          if (found.length === 1) {\n            selectOption(found[0]);\n          } else {\n            setVariants(found);\n          }\n        }\n      })\n      .catch(e => {\n        console.log('ERROR >>>>>>', e);\n      });\n  }\n\n  const keyPressHandler = e => {\n    const {keyCode} = e;\n    if (keyCode === ENTER_KEY_CODE) geoCode();\n  }\n\n  const changeHandler = e => {\n    setInpValue(e.target.value);\n  }\n\n  const selectOption = opt => {\n    selectAddress(opt);\n    setInpValue(opt.address);\n    setVariants([]);\n  }\n\n  useEffect(() => {\n    if (pointAddress) setInpValue(pointAddress);\n  }, [pointAddress]);\n\n\n\n\n\n\n\n\n\n  useEffect(() => {\n    if (cdi) {\n      setInpValue(cdi);\n      geoCode(cdi);\n    }\n  }, [cdi]);\n\n\n\n\n\n\n\n  \n  return (\n    <Wrap>\n      <InpWrap>\n        <StyledInput\n          type=\"text\"\n          value={value}\n          onChange={changeHandler}\n          onKeyDown={keyPressHandler}\n        />\n        <Placeholder>Адрес отправления:</Placeholder>\n      </InpWrap>\n      {\n        variants && variants.length ? (\n          <Options>\n            {variants.map(item => (\n              <Option key={item.address} onClick={() => selectOption(item)}>{item.address}</Option>\n            ))}\n          </Options>\n        ) : ''\n      }\n    </Wrap>\n  )\n}\n\nexport default Search;","import React, { useEffect, Fragment } from 'react';\nimport ReactDOMServer from 'react-dom/server';\nimport terminals from '../contacts.json';\nimport { Placemark } from 'react-yandex-maps';\nimport styled from 'styled-components';\n\nconst Button = styled.div`\n  padding: 5px 10px;\n  text-align: center;\n  background: #f38a69;\n  color: #ffffff;\n  border-radius: 3px;\n  cursor: pointer;\n  margin-top: 10px;\n  &:hover {\n    background: #e07f61;\n  }\n`;\n\nconst Wrap = styled.div`\n  width: 260px;\n`;\n\nconst Name = styled.div`\n  margin-bottom: 10px;\n`;\n\nconst Terminals = ({ selectTerminal, pointCoords }) => {\n\n  const balloonClickHandler = (e) => {\n    const element = e.target;\n    if (element.classList.contains('select-terminal')) {\n      const { lat, lon, address } = element.dataset;\n      selectTerminal([lat, lon], address);\n    }\n  }\n\n  const terminalIsNotSelected = item => {\n    if (!pointCoords) return true;\n    return +pointCoords[0] !== item.terminal.latitude && +pointCoords[1] !== item.terminal.longitude;\n  }\n\n  useEffect(() => {\n    document.addEventListener('click', balloonClickHandler);\n    return () => document.removeEventListener('click', balloonClickHandler);\n  }, []);\n\n  if (!terminals || !terminals.length) return '';\n\n  return (\n    <>{\n      terminals.map((item, index) => (\n        <Fragment key={item.id}>\n          {\n            terminalIsNotSelected(item) ? (<Placemark\n              key={item.id}\n              geometry={[item.terminal.latitude, item.terminal.longitude]}\n              properties={{\n                hintContent: `${item.city} ${item.address}`,\n                balloonContentBody: ReactDOMServer.renderToStaticMarkup(\n                  <Wrap>\n                    <b>г. {item.city}</b><br />\n                    <Name>Название терминала: {item.name}</Name>\n                    {item.terminal.terminalAddress}\n                    <Button\n                      data-address={item.terminal.terminalAddress}\n                      data-lat={item.terminal.latitude}\n                      data-lon={item.terminal.longitude}\n                      className=\"select-terminal\"\n                    >\n                      Выбрать\n                    </Button>\n                  </Wrap>,\n                ),\n              }}\n              options={{\n                preset: 'islands#dotIcon',\n                iconColor: '#e84d6f',\n              }}\n            />) : ''\n          }\n        </Fragment>\n      ))\n    }</>\n  )\n};\n\nexport default Terminals;","import React from 'react';\nimport styled from 'styled-components';\nimport { Placemark, Circle } from 'react-yandex-maps';\n\nconst Button = styled.div`\n  font-size: 14px;\n  z-index: 2;\n  position: absolute;\n  left: 20px;\n  bottom: 20px;\n  cursor: pointer;\n  width: 200px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid #D6D6D6;\n  box-shadow: 0 1px 5px rgba(0,0,0,0.1);\n  border-radius: 3px;\n  background: #ffffff;\n  &:hover {\n    background: #f7f7f7;\n  }\n`;\n\nconst AREA_SIZE = 100;\n\nconst Entrance = ({ pointCoords, ymaps, entranceCoords, setEntranceCoords, showArea, setShowArea }) => {\n  let entranceRef = '';\n\n  const specifyEntrance = () => {\n    setShowArea(!showArea);\n    if (showArea) setEntranceCoords([]);\n  }\n\n  const circleClick = e => {\n    const coords = e.get('coords');\n    setEntranceCoords(coords);\n  }\n\n  const moveEntrance = () => {\n    const newCoords = entranceRef.geometry.getCoordinates();\n    const distance = ymaps.coordSystem.geo.getDistance(newCoords, pointCoords);\n    if (distance > AREA_SIZE) {\n      setEntranceCoords([]);\n    } else {\n      setEntranceCoords(newCoords);\n    }\n  }\n\n  return (\n    <>\n      { \n        pointCoords && pointCoords.length \n          ? (\n            <Button onClick={specifyEntrance}>\n              { entranceCoords && entranceCoords.length ? 'Скрыть область' : 'Уточнить подъезд' }\n            </Button>\n          ) : ''\n      }\n      {\n        pointCoords && pointCoords.length && showArea ? (\n          <Circle\n            geometry={[pointCoords, AREA_SIZE]}\n            onClick={circleClick}\n            options={{\n              draggable: false,\n              fillColor: '#FFD2D2',\n              fillOpacity: 0.4,\n              strokeColor: '#FFD2D2',\n              strokeOpacity: 0.7,\n              strokeWidth: 1,\n              zIndex: 2,\n            }}\n          />\n        ) : '' \n      }\n      {\n        entranceCoords && entranceCoords.length ? (\n          <Placemark\n            modules={['geoObject.addon.balloon', 'geoObject.addon.hint']}\n            geometry={entranceCoords}\n            onDragend={moveEntrance}\n            options={{\n              draggable: true,\n              preset: 'islands#dotIcon',\n              iconColor: '#ef2c2c',\n            }}\n            properties={{\n              hintContent: 'Подъезд',\n              balloonContent: 'Подъезд - дополнительная информация',\n            }}\n            instanceRef={ref => (entranceRef = ref)}\n          />\n        ) : ''\n      }\n    </>\n  )\n};\n\nexport default Entrance;","import React, { useState, useEffect } from 'react';\nimport { YMaps, Map, GeolocationControl, ZoomControl, Placemark } from 'react-yandex-maps';\nimport styled from 'styled-components';\nimport Search from './Search';\nimport Terminals from './Terminals';\nimport Entrance from './Entrance';\n// import Zones from './Zones';\n\nconst MapWrap = styled.div`\n  overflow: hidden;\n  border-radius: 3px;\n  box-shadow: 0px 1px 10px rgba(0,0,0,0.3);\n  position: relative;\n`;\n\nconst API_KEY_YMAPS = process.env.REACT_APP_MAP_API_KEY;\n\nconst DlMap = ({ cdi, showToast }) => {\n  let pointRef = '';\n\n  // Если потребуется вторая точка для уточнения координат подъезда\n  const [entranceCoords, setEntranceCoords] = useState([]);\n  const [showArea, setShowArea] = useState(false);\n\n  const [pointCoords, setPointCoords] = useState([]);\n  const [pointAddress, setPointAddress] = useState('');\n\n  const [mapRef, setMapRef] = useState(null);\n  const [ymaps, setYmaps] = useState(null);\n\n  const fetchAddressByCoords = (coords) => {\n    // &kind=house&results=1 - определяет адрес как ближайший дом\n    const url = `https://geocode-maps.yandex.ru/1.x/?apikey=${API_KEY_YMAPS}&format=json&geocode=${coords}&kind=house&results=1`\n  \n    fetch(url)\n      .then(r => r.json())\n      .then(res => {\n        if (res && res.response) {\n          const defaultAddress = \n            res.response.GeoObjectCollection.featureMember[0].GeoObject.metaDataProperty.GeocoderMetaData.text;\n          setPointAddress(defaultAddress);\n        }\n      })\n      .catch(e => console.log('ERROR:', e));\n  }\n\n  useEffect(() => {\n    if (ymaps && mapRef) {\n      ymaps.geolocation.get({\n        mapStateAutoApply: true\n      })\n      .then(function(result) {\n        if (result) {\n          const coords = result.geoObjects.position;\n          mapRef.setCenter(coords, 16);\n          setPointCoords(coords);\n\n          fetchAddressByCoords([...coords].reverse().join('+'));\n\n        }\n      });\n    }\n  }, [ymaps, mapRef])\n\n  const mapClick = e => {\n    // showToast();\n    // Если нужен клик только по области - код ниже надо закомментировать\n    if (!showArea) {\n      const coords = e.get('coords');\n\n      setPointCoords(coords);\n      fetchAddressByCoords([...coords].reverse().join('+'));\n    }\n  }\n\n  const movePoint = () => {\n    const newCoords = pointRef.geometry.getCoordinates();\n    setPointCoords(newCoords);\n    fetchAddressByCoords([...newCoords].reverse().join('+'));\n  }\n\n  const selectAddress = (item) => {\n    const { address, coords } = item;\n    const coordArr = coords.split(' ').reverse();\n    const zoom = 17;\n    setPointCoords(coordArr);\n    setPointAddress(address);\n    setEntranceCoords([]);\n    mapRef.setCenter(coordArr, zoom);\n  }\n\n  useEffect(() => {\n    if (pointCoords && mapRef) mapRef.balloon.close();\n  }, [pointCoords, mapRef]);\n\n  const selectTerminal = (coords, address) => {\n    setPointCoords(coords);\n    setPointAddress(address);\n  }\n\n  // const SetTestCoords = () => {\n  //   const myCoords = [59.840921599999994, 30.493900800000002];\n  //   const myZoom = 16;\n  //   setPointCoords(myCoords);\n  //   mapRef.setCenter(myCoords, myZoom);\n  // }\n\n  return (\n    <YMaps query={{ apikey: API_KEY_YMAPS }}>\n      <MapWrap>\n        <Search cdi={cdi} selectAddress={selectAddress} pointAddress={pointAddress} />\n        <Map\n          modules={['geolocation', 'geocode', 'coordSystem.geo']}\n          onLoad={setYmaps}\n          onClick={mapClick}\n          width={'100%'}\n          height={'500px'}\n          defaultState={{ center: [55.75, 37.57], zoom: 12 }}\n          options={{ suppressMapOpenBlock: true }}\n          instanceRef={setMapRef}\n        >\n          {\n            pointCoords && pointCoords.length ? (\n              <Placemark\n                modules={['geoObject.addon.balloon', 'geoObject.addon.hint']}\n                onDragend={movePoint}\n                geometry={pointCoords}\n                options={{ draggable: !showArea }}\n                properties={{\n                  hintContent: pointAddress,\n                  balloonContent: '<div style=\"width: 200px;\">' + pointAddress + '</div>'\n                }}\n                instanceRef={ref => (pointRef = ref)}\n              />\n            ) : ''\n          }\n          <Entrance\n            entranceCoords={entranceCoords}\n            setEntranceCoords={setEntranceCoords}\n            pointCoords={pointCoords}\n            showArea={showArea}\n            setShowArea={setShowArea}\n            ymaps={ymaps}\n          />\n          {/* <Zones\n            showArea={showArea}\n            setPointCoords={setPointCoords}\n            fetchAddressByCoords={fetchAddressByCoords}\n          /> */}\n          <Terminals selectTerminal={selectTerminal} pointCoords={pointCoords} />\n          <ZoomControl />\n          <GeolocationControl />\n        </Map>\n      </MapWrap>\n    </YMaps>\n  )\n}\n\nexport default DlMap;","// TODO: Add select city input\nconst pointStorageVal = {\n  cashlessOnly: \"0\",\n  city: \"Санкт-Петербург\",\n  cityID: 200601,\n  code: \"7800000000000000000000000\",\n  country_code: 643,\n  fullName: \"г. Санкт-Петербург\",\n  inPrice: \"1\",\n  isAutoCity: \"1\",\n  isTerminal: \"1\",\n  label: \"г. Санкт-Петербург\",\n  nameString: \"Санкт-Петербург г\",\n  noSendDoor: \"0\",\n  regionString: \"г. Санкт-Петербург\",\n  street: \"1\",\n  uString: \"\",\n  value: \"Санкт-Петербург\",\n};\n\nconst UseCdiService = (prevSuggestions, value) => {\n  const getCityStr = (sugg) => {\n    return [\n      sugg.region_with_type ? sugg.region_with_type : '',\n      sugg.area_with_type ? ', ' + sugg.area_with_type : '',\n      sugg.city_with_type ?  ', ' + sugg.city_with_type : '',\n      sugg.settlement_with_type ?  ', ' + sugg.settlement_with_type : '',\n      sugg.street_with_type ?  ', ' + sugg.street_with_type : '',\n      sugg.house ?  ', ' + sugg.house_type + ' ' + sugg.house : '',\n      sugg.block ?  ' ' + sugg.block_type + ' ' + sugg.block : '',\n      sugg.flat ?  ', ' + sugg.flat_type + ' ' + sugg.flat : ''\n    ].filter(Boolean).join('')\n  };\n\n  const getQuery = () => {\n    var filteredSuggestions = !!prevSuggestions && prevSuggestions.length\n      ? prevSuggestions.filter((el) => {\n          const locationCode =  el.settlement_kladr_id || el.city_kladr_id;\n  \n          return locationCode === pointStorageVal.code;\n        })\n      : [];\n  \n    var query = [];\n    var filteredQuery = [];\n  \n    if (prevSuggestions.length\n      && filteredSuggestions.length) {\n        prevSuggestions.forEach(function (elem) {\n          const str = [\n            elem.region_with_type ? elem.region_with_type : '',\n            elem.area_with_type ? elem.area_with_type : '',\n            elem.city_with_type ? elem.city_with_type : '',\n            elem.settlement_with_type ? elem.settlement_with_type : '',\n            value\n          ].filter(Boolean).join(' ');\n  \n          query.push(str);\n        });\n    } else if (prevSuggestions.length\n      && !filteredSuggestions.lengt) {\n        const pointStr = [\n          pointStorageVal && pointStorageVal.regionString ? pointStorageVal.regionString : '',\n          pointStorageVal && pointStorageVal.uString ? pointStorageVal.uString.split(',')[0] : '',\n          pointStorageVal && pointStorageVal.nameString ? pointStorageVal.nameString : '',\n          value\n        ].filter(Boolean).join(' ');\n  \n        query.push(pointStr);\n  \n        prevSuggestions.forEach(function (elem) {\n          var str = [\n            elem.region_with_type ? elem.region_with_type : '',\n            elem.area_with_type ? elem.area_with_type : '',\n            elem.city_with_type ? elem.city_with_type : '',\n            elem.settlement_with_type ? elem.settlement_with_type : '',\n            value\n          ].filter(Boolean).join(' ');\n  \n          query.push(str);\n        });\n\n    } else if (!prevSuggestions.length) {\n      const pointStr = [\n        pointStorageVal && pointStorageVal.regionString ? pointStorageVal.regionString : '',\n        pointStorageVal && pointStorageVal.uString ? pointStorageVal.uString.split(',')[0] : '',\n        pointStorageVal && pointStorageVal.fullName ? pointStorageVal.fullName : '',\n        value\n      ].filter(Boolean).join(' ');\n  \n      query.push(pointStr);\n    }\n  \n    query.forEach(function (el) {\n      if (filteredQuery.indexOf(el) === -1) {\n        filteredQuery.push(el);\n      }\n    })\n  \n    return filteredQuery;\n  };\n\n  return { getQuery, getCityStr };\n}\n\nexport default UseCdiService;","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport UseDebouncedFunc from './UseDebounced';\nimport UseCdiService from './UseCdiService';\n\nconst Wrap = styled.div`\n  position: relative;\n  margin-bottom: 40px;\n  padding-right: 100px;\n`;\n\nconst SelectBtn = styled.div`\n  cursor: pointer;\n  width: 90px;\n  position: absolute;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: #23629a;\n  color: #ffffff;\n  border-radius: 4px;\n  &:hover {\n    background: #2a73b5;\n  }\n`;\n\nconst Inp = styled.input`\n  box-sizing: border-box;\n  width: 100%;\n  border: 1px solid #D6D6D6;\n  box-shadow: 0 1px 5px rgba(0,0,0,0.1);\n  border-radius: 4px;\n  outline: none;\n  padding: 10px 20px;\n  font-size: 16px;\n  background: transparent;\n`;\n\nconst Options = styled.div`\n  overflow-y: auto;\n  max-height: 200px;\n  top: 100%;\n  left: 5px;\n  right: 5px;\n  background: #ffffff;\n  position: absolute;\n  z-index: 3;\n  box-shadow: 0 1px 5px rgba(0,0,0,0.1);\n  margin-top: 10px;\n  border-radius: 2px;\n`;\n\nconst Option = styled.div`\n  padding: 5px;\n  font-size: 14px;\n  cursor: pointer;\n  &:hover {\n    background: #f7f7f7;\n  }\n`;\n\nconst Page = ({ set }) => {\n  const [value, setValue] = useState('');\n  const [prevSuggestions, setPrevSuggestions] = useState('');\n  const [cdiOptions, setCdiOptions] = useState('');\n\n  const onChangeHandler = e => {\n    setValue(e.target.value);\n  }\n\n  const { getQuery, getCityStr } = UseCdiService(prevSuggestions, value); \n\n  const fetchAddress = () => {\n    const url = `https://www.dellin.stage/api/v1/address/search`;\n    const data = {\n      restrict_value: true,\n      count: 20,\n      query: value,\n      locations_boost: [{ kladr_id:\"78\" }], // ???\n      locations: [{ kladr_id:\"78\" },{ kladr_id:\"78\" },{ kladr_id:\"47\" }], // ???\n      data: getQuery()\n    };\n\n    fetch(url, {\n      method: 'POST', \n      body: JSON.stringify(data),\n      mode: 'cors',\n      headers: {\n        'Access-Control-Allow-Origin':'*',\n        'Content-Type': 'application/json;charset=utf-8',\n      }\n    })\n      .then(r => r.json())\n      .then(res => {\n        const adresses = res.data.map(i => {\n          if (!i.value) i.value = getCityStr(i);\n          return i;\n        });\n        setCdiOptions(adresses);\n\n        const kladrList = {};\n      \n        const suggestions = res.data.filter(function(el) {\n          var suitable = res.type === 'clean' ? el.qc === '0' || el.qc === '1' : true;\n          if (!kladrList[el.kladr_id] && suitable) {\n            kladrList[el.kladr_id] = true;\n            return true;\n          } else {\n            return false;\n          }\n        });\n        // if (!!searchValue && suggestions.length && type === 'suggest') this._suggestions = suggestions;\n        if (suggestions.length && res.type === 'suggest') setPrevSuggestions(suggestions);\n      })\n      .catch(e => {\n        console.log('ERROR >>>>>>', e);\n      });\n  }\n\n  const debouncedFetchAddress = UseDebouncedFunc(fetchAddress, 300);\n\n  const keyPressHandler = () => {\n    // const isSpb = true;\n    // const cityIsInRussia = true;\n    // const code = pointStorageVal.code;\n    // const cityCode = code.length === 24 ? code : `0${code}`;\n    // const noStreet = pointStorageVal.street === '0';\n\n    debouncedFetchAddress();\n  }\n\n  const selectOption = option => {\n    setValue(option.value);\n    setCdiOptions('');\n  }\n\n  const clickSelectButton = () => {\n    set(value);\n  }\n\n  useEffect(() => {\n    if (!value) setPrevSuggestions('');\n  }, [value])\n\n  return (\n    <Wrap>\n      <SelectBtn onClick={clickSelectButton}>Выбрать</SelectBtn>\n      <Inp type=\"text\" onChange={onChangeHandler} value={value} onKeyUp={keyPressHandler} />\n      {cdiOptions && (\n        <Options>\n          {cdiOptions.map(item => (\n            <Option onClick={() => selectOption(item)} key={item.kladr_id}>{item.value}</Option>\n          ))}\n        </Options>\n      )}\n    </Wrap>\n  );\n}\n\nexport default Page;","import { useRef } from 'react';\n\nexport default function useDebouncedFunction(func, delay) {\n  const ref = useRef(null);\n\n  return (...args) => {\n    clearTimeout(ref.current);\n    ref.current = setTimeout(() => func(...args), delay);\n  };\n}","import React, { useEffect, useState, useRef } from 'react';\nimport DlMap from './DlMap';\nimport Page from './Page';\nimport styled from 'styled-components';\n\nconst Wrap = styled.div`\n  width: 800px;\n  margin: 0 auto;\n  padding: 40px 10px 100px 10px;\n`;\n\nconst Toast = styled.div`\n  width: 300px;\n  padding: 10px 20px;\n  color: #ffffff;\n  border-radius: 4px;\n  box-shadow: 0px 1px 10px rgba(0,0,0,0.3);\n  position: fixed;\n  right: 30px;\n  bottom: 30px;\n  background: #e04439;\n  z-index: 100;\n  font-size: 14px;\n\n  animation: fadeIn 0.3s ease;\n\n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n      right: -100px;\n    }\n    to {\n      opacity: 1;\n      right: 30px;\n    }\n  }\n`;\n\nfunction App() {\n  const [cdiAddress, setCdiAddress] = useState('');\n  const [toast, setToast] = useState('');\n  const ref = useRef(null);\n\n\n  useEffect(() => {\n    clearTimeout(ref.current);\n    ref.current = setTimeout(() => {\n      setToast(false);\n    }, 2000);\n    return () => {\n      clearTimeout(ref.current);\n    }\n  }, [toast]);\n\n  const showToast = () => {\n    setToast(true);\n  }\n\n  return (\n    <Wrap>\n      {toast && <Toast>Невозможно осуществить доставку в эту точку. Укажите адрес доставки внутри области.</Toast>}\n      <Page set={setCdiAddress} />\n      <DlMap cdi={cdiAddress} width=\"100%\" showToast={showToast} />\n    </Wrap>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}